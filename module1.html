<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>住住-驻拽 -  1: 住转</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js" integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUbKyJjd8" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Assistant:wght@300;400;600;700&display=swap');
        body {
            font-family: 'Assistant', sans-serif;
            scroll-behavior: smooth;
            background-color: #111827;
            color: #d1d5db;
        }
        .katex { font-size: 1.1em; }
        .feedback {
            transition: all 0.3s ease-in-out;
            max-height: 0;
            overflow: hidden;
            opacity: 0;
            padding: 0 1rem;
        }
        .feedback.show {
             max-height: 500px;
             opacity: 1;
             margin-top: 1rem;
             padding: 0.75rem 1rem;
        }
        .feedback.correct {
            border-right: 4px solid #22c55e;
            background-color: rgba(34, 197, 94, 0.1);
        }
        .feedback.incorrect {
            border-right: 4px solid #ef4444;
            background-color: rgba(239, 68, 68, 0.1);
        }
        .draggable { cursor: grab; }
        .drop-target { border: 2px dashed #4b5563; min-height: 60px; }
        .drop-target.drag-over { background-color: #374151; border-color: #60a5fa; }
        .pro-tip {
            background-color: rgba(250, 204, 21, 0.1);
            border-right: 4px solid #facc15;
            padding: 1rem;
            border-radius: 0.5rem;
            margin: 1rem 0;
        }
        .pro-tip::before {
            content: " 驻 砖 驻";
            font-weight: bold;
            display: block;
            margin-bottom: 0.5rem;
            color: #facc15;
        }
        .quiz-option {
            transition: background-color 0.2s;
        }
        .quiz-option.correct {
            background-color: #22c55e !important;
            color: white;
        }
        .quiz-option.incorrect {
            background-color: #ef4444 !important;
            color: white;
        }
        .practice-question {
            background-color: #1f2937;
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        .backface-hidden {
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-200">

    <!-- Header -->
    <header class="bg-gray-800 shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <h1 class="text-2xl md:text-3xl font-bold text-blue-400">
                <i class="fas fa-book-open mr-2"></i> 1: 住转 住住拽
            </h1>
            <a href="#" class="text-gray-300 hover:text-blue-400 transition">
                <i class="fas fa-home ml-1"></i> 专 转驻专 专砖
            </a>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto p-4 md:p-8">

        <section class="text-center mb-12">
            <h2 class="text-4xl md:text-5xl font-extrabold mb-2 bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-teal-300">转 住转</h2>
            <p class="text-lg text-gray-400">   转 砖驻转 住住拽,   住   转 住转  砖.</p>
        </section>

        <!-- Section 1: Population vs. Sample -->
        <section id="population-vs-sample" class="mb-12">
            <h3 class="text-3xl font-bold mb-6 border-b-2 border-gray-700 pb-2">1.1: 住  </h3>
            <div class="bg-gray-800 rounded-lg p-6 grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <div>
                    <p class="mb-4">住住拽,  注 转 专爪  注 拽爪  砖拽专转 **住**.  砖专  驻砖专  转 ,  拽 拽爪 拽 转专 砖拽专转 ****.</p>
                    <ul class="list-disc list-inside space-y-2">
                        <li><strong class="text-blue-400">驻专专:</strong>  住驻专 转专 转 砖 **住** (砖, `\mu` - 爪注 住).  注专 拽注  专  注.</li>
                        <li><strong class="text-teal-300">住住:</strong>  住驻专 转专 转 砖 **** (砖, `\bar{x}` - 爪注 ).  注专 砖转, 转  住驻爪驻 砖拽.</li>
                    </ul>
                    <div class="pro-tip">
                        专 砖 住住拽 住拽转  砖转砖 **住住** 砖砖   住拽 住拽转 注 **驻专专**  注 住.
                    </div>
                </div>
                <div class="bg-gray-900 p-4 rounded-lg">
                    <h5 class="font-bold mb-4 text-center">驻注转: 转  砖 专</h5>
                    <div class="flex justify-around mb-4">
                        <div id="drag-param" class="draggable bg-blue-500/30 p-3 rounded-lg" draggable="true">驻专专</div>
                        <div id="drag-stat" class="draggable bg-teal-500/30 p-3 rounded-lg" draggable="true">住住</div>
                    </div>
                    <div class="space-y-4">
                        <div class="drop-target p-4 rounded-lg flex flex-col items-center" data-match="drag-param">
                            <i class="fas fa-users text-2xl text-blue-400 mb-2"></i>
                            <span class="font-semibold">转专 转  住</span>
                        </div>
                        <div class="drop-target p-4 rounded-lg flex flex-col items-center" data-match="drag-stat">
                            <i class="fas fa-user-friends text-2xl text-teal-300 mb-2"></i>
                            <span class="font-semibold">砖 转 </span>
                        </div>
                    </div>
                     <div id="feedback-pop-sample" class="mt-4 p-3 rounded-lg text-center feedback"></div>
                </div>
            </div>
        </section>

        <!-- Section 2: Symbols -->
        <section id="symbols" class="mb-12">
            <h3 class="text-3xl font-bold mb-6 border-b-2 border-gray-700 pb-2">1.2: 专转 住</h3>
            <p class="mb-4">转 住    转 -'-' 砖 住住拽.  转专.</p>
            <div class="bg-gray-800 rounded-lg p-6">
                 <div class="bg-gray-900 p-4 rounded-lg">
                    <h5 class="font-bold mb-4">驻注转: 专住转 拽</h5>
                    <div id="flashcard-container" class="relative w-full h-48">
                        <div id="flashcard" class="absolute w-full h-full rounded-lg bg-blue-800 flex items-center justify-center text-3xl font-bold cursor-pointer" style="transition: transform 0.6s; transform-style: preserve-3d;">
                            <div id="flashcard-front" class="absolute w-full h-full flex items-center justify-center backface-hidden p-4 text-center"></div>
                            <div id="flashcard-back" class="absolute w-full h-full flex items-center justify-center backface-hidden p-4 text-center bg-teal-800" style="transform: rotateY(180deg);"></div>
                        </div>
                    </div>
                    <div class="flex justify-center mt-4">
                        <button id="next-flashcard" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded transition"> <i class="fas fa-chevron-left mr-2"></i></button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3: Scales of Measurement -->
        <section id="scales" class="mb-12">
            <h3 class="text-3xl font-bold mb-6 border-b-2 border-gray-700 pb-2">1.3: 住转 </h3>
            <p class="mb-4">  砖 住   拽专 专转  住住  砖.  住 砖 转转 砖转.</p>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-center">
                <div class="bg-gray-800 p-4 rounded-lg"><h4 class="text-xl font-bold text-blue-400">砖 (Nominal)</h4><p class="text-sm">拽专转  住专. 专拽 砖转.</p><p class="mt-2 font-mono text-xs">: 爪注 注, 拽 专</p></div>
                <div class="bg-gray-800 p-4 rounded-lg"><h4 class="text-xl font-bold text-teal-300">住专 (Ordinal)</h4><p class="text-sm">砖 住专 专,  专  砖.</p><p class="mt-2 font-mono text-xs">: 专转 砖注转 专爪, 专 爪转</p></div>
                <div class="bg-gray-800 p-4 rounded-lg"><h4 class="text-xl font-bold text-purple-400">专 (Interval)</h4><p class="text-sm">住专 专 砖,  0 砖专专转.</p><p class="mt-2 font-mono text-xs">: 驻专专 (C掳), 爪 IQ</p></div>
                <div class="bg-gray-800 p-4 rounded-lg"><h4 class="text-xl font-bold text-rose-400"> (Ratio)</h4><p class="text-sm"> : 住专, 专 砖 -0 .</p><p class="mt-2 font-mono text-xs">: , 砖拽,  转</p></div>
            </div>
            <div class="bg-gray-800 rounded-lg p-6 mt-6">
                <h5 class="font-bold mb-4 text-xl">驻注转:  转 注爪</h5>
                <div id="scales-quiz-container" class="bg-gray-900 p-4 rounded-lg"></div>
            </div>
        </section>
        
        <!-- Section 4: Logic of Inference and Assumptions -->
        <section id="assumptions" class="mb-12">
            <h3 class="text-3xl font-bold mb-6 border-b-2 border-gray-700 pb-2">1.4: 拽转 住拽 转 住</h3>
            <div class="bg-gray-800 rounded-lg p-6">
                <p class="mb-4">  住住    注.  砖转砖  ,  爪专  砖转 砖 (转 砖) 转 . 转  拽专 **转**. 驻专转 转 注  住拽转 砖转.</p>
                <h4 class="text-2xl font-bold mt-6 mb-3">转 专转 砖驻砖 拽专住:</h4>
                <ul class="list-disc list-inside space-y-3">
                    <li><b> 拽专转 (Random Sampling):</b>  砖 转专!   砖 砖 专 驻 拽专 住,  砖驻砖专  爪 转 .</li>
                    <li><b>转驻转 专转 (Normality):</b>  驻专专 专 (  t)  砖砖转 拽 转驻 专转 住.   拽专转   拽 (`n &lt; 30`).</li>
                    <li><b>砖 砖转 (Homogeneity of Variances):</b> 砖砖  砖转 拽爪转  转专 (砖, 专 砖),  住 (  t  转 转)  砖砖转 砖 砖转   拽爪转 住.</li>
                </ul>
                 <div class="pro-tip">
                    ,   专 专转  转驻转 住,   专转 (  拽)  砖转砖  拽 转专 (  t). 转 爪 转 转 砖转 !
                </div>
            </div>
        </section>

        <!-- Section 5: Practice Questions -->
        <section id="practice" class="mb-12">
            <h3 class="text-3xl font-bold mb-6 border-b-2 border-gray-700 pb-2">1.5: 转专 住 -  转 注爪</h3>
            <div id="practice-questions-container"></div>
        </section>
        
        <!-- Section 6: Module Summary -->
        <section id="summary">
            <h3 class="text-3xl font-bold mb-6 border-b-2 border-gray-700 pb-2">住  1</h3>
            <div class="bg-gray-800 rounded-lg p-6">
                <ul class="list-disc list-inside space-y-3">
                    <li>  **住** (拽爪 砖注转 转) **** (转转-拽爪 爪转).</li>
                    <li>专 **驻专专**  砖 住 (砖 `\mu`) **住住**  砖  (砖 `\bar{x}`).</li>
                    <li> 转 住 住住 砖砖砖 转 专  拽专住.</li>
                    <li>住 砖转 专注 **住转 **: 砖, 住专, 专 .</li>
                    <li>爪 转 **转 专转** 砖注转 住住  住住 砖.</li>
                    <li> 砖专 专转 砖  砖转砖 注   住拽 注 住!</li>
                </ul>
                <p class="mt-6 font-bold text-lg text-center text-teal-300"> ! 住转 转  住转. 转  转拽 注 转驻转  2.</p>
            </div>
        </section>

    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const renderAllMath = () => {
                try {
                    if (window.renderMathInElement) {
                        renderMathInElement(document.body, {
                            delimiters: [
                                {left: '$$', right: '$$', display: true},
                                {left: '`', right: '`', display: false},
                                {left: '$', right: '$', display: false},
                                {left: '\\(', right: '\\)', display: false},
                                {left: '\\[', right: '\\]', display: true}
                            ]
                        });
                    }
                } catch (error) {
                    console.error("KaTeX rendering error:", error);
                }
            };
            
            const showFeedback = (elementId, message, isCorrect) => {
                const feedbackDiv = document.getElementById(elementId);
                if (!feedbackDiv) return;
                feedbackDiv.innerHTML = message;
                feedbackDiv.className = `p-3 rounded-lg feedback show ${isCorrect ? 'correct' : 'incorrect'}`;
                renderAllMath();
            };
            {}
            const setupPopulationVsSample = () => {
                const draggables = document.querySelectorAll('#population-vs-sample .draggable');
                const dropTargets = document.querySelectorAll('#population-vs-sample .drop-target');
                let draggedItem = null;

                draggables.forEach(draggable => {
                    draggable.addEventListener('dragstart', e => {
                        draggedItem = e.target;
                        setTimeout(() => { e.target.style.opacity = '0.5'; }, 0);
                    });
                    draggable.addEventListener('dragend', e => {
                        draggedItem = null;
                        setTimeout(() => { e.target.style.opacity = '1'; }, 0);
                    });
                });

                dropTargets.forEach(target => {
                    target.addEventListener('dragover', e => { e.preventDefault(); target.classList.add('drag-over'); });
                    target.addEventListener('dragleave', () => target.classList.remove('drag-over'));
                    target.addEventListener('drop', e => {
                        e.preventDefault();
                        target.classList.remove('drag-over');
                        if (draggedItem && target.dataset.match === draggedItem.id) {
                            target.appendChild(draggedItem);
                            draggedItem.setAttribute('draggable', 'false');
                            draggedItem.style.cursor = 'default';
                            checkAllMatched();
                        }
                    });
                });

                const checkAllMatched = () => {
                    const remaining = document.querySelector('#population-vs-sample .draggable');
                    if (!remaining) {
                        showFeedback('feedback-pop-sample', '注! 转 转  转  驻专专 住住.', true);
                    }
                };
            };

            const setupFlashcards = () => {
                const flashcards = [
                    { front: '`\\mu`', back: '转转 (爪注) 住' },
                    { front: '`\\sigma`', back: '住转 转拽 住' },
                    { front: '`\\sigma^2`', back: '砖转 住' },
                    { front: '`\\bar{x}`', back: '爪注 ' },
                    { front: '`\\hat{S}`', back: ' 住转 转拽 ' },
                    { front: '`\\hat{S}^2`', back: ' 砖转  (住专 )' },
                    { front: '`n`', back: ' ' },
                    { front: '`p`', back: '驻专驻专爪 住' },
                    { front: '`\\hat{p}`', back: '驻专驻专爪 ' },
                    { front: '`\\alpha`', back: '专转 拽转 (住 注转 住 I)' },
                    { front: '`\\beta`', back: '住 注转 住 II' },
                    { front: '`\\Sigma`', back: '住' }
                ];
                let currentCardIndex = 0;
                const card = document.getElementById('flashcard');
                const front = document.getElementById('flashcard-front');
                const back = document.getElementById('flashcard-back');
                const nextBtn = document.getElementById('next-flashcard');

                const showCard = (index) => {
                    card.style.transform = '';
                    front.innerHTML = flashcards[index].front;
                    back.innerHTML = flashcards[index].back;
                    renderAllMath();
                };

                card.addEventListener('click', () => {
                    card.style.transform = card.style.transform === 'rotateY(180deg)' ? '' : 'rotateY(180deg)';
                });

                nextBtn.addEventListener('click', () => {
                    currentCardIndex = (currentCardIndex + 1) % flashcards.length;
                    showCard(currentCardIndex);
                });

                showCard(0);
            };

            const setupScalesQuiz = () => {
                const quizContainer = document.getElementById('scales-quiz-container');
                const questions = [
                    { q: "住驻专 转注转 转 砖 住", a: "nominal", explanation: "住驻专 转..  专拽 转转 ,  砖注转 住专  ." },
                    { q: "驻专专转 专 注转 驻专", a: "interval", explanation: "砖 住专 专 砖,  0掳F  专 '  '." },
                    { q: "住驻专 砖转 驻 砖爪注 ", a: "ratio", explanation: "砖 0  (驻住 砖转), 转 专 砖-10 砖转  驻 2 -5 砖转." },
                    { q: "专 住专 (1 注 5 )", a: "ordinal", explanation: "5   转专 -4,    4 -5  专 砖   1 -2." }
                ];
                let currentQuestionIndex = 0;

                const renderQuizQuestion = () => {
                    const q = questions[currentQuestionIndex];
                    quizContainer.innerHTML = `
                        <p class="mb-4"> 住  转专 转 砖转: <strong>"${q.q}"</strong>?</p>
                        <div class="flex flex-wrap gap-2">
                            <button class="quiz-option bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" data-answer="nominal">砖</button>
                            <button class="quiz-option bg-teal-600 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded" data-answer="ordinal">住专</button>
                            <button class="quiz-option bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded" data-answer="interval">专</button>
                            <button class="quiz-option bg-rose-600 hover:bg-rose-700 text-white font-bold py-2 px-4 rounded" data-answer="ratio"></button>
                        </div>
                        <div id="feedback-scales-quiz" class="mt-4 p-3 rounded-lg feedback"></div>
                    `;
                    quizContainer.querySelectorAll('.quiz-option').forEach(btn => {
                        btn.addEventListener('click', handleQuizAnswer);
                    });
                };

                const handleQuizAnswer = (e) => {
                    const selectedAnswer = e.target.dataset.answer;
                    const correctAnswer = questions[currentQuestionIndex].a;
                    const explanation = questions[currentQuestionIndex].explanation;
                    
                    quizContainer.querySelectorAll('.quiz-option').forEach(btn => {
                        btn.disabled = true;
                        if (btn.dataset.answer === correctAnswer) {
                            btn.classList.add('correct');
                        }
                    });

                    if (selectedAnswer === correctAnswer) {
                        showFeedback('feedback-scales-quiz', `<i class="fas fa-check-circle mr-2"></i> ! ${explanation}`, true);
                    } else {
                        e.target.classList.add('incorrect');
                        showFeedback('feedback-scales-quiz', `<i class="fas fa-times-circle mr-2"></i> 拽. 转砖   ${correctAnswer}. ${explanation}`, false);
                    }
                    
                    setTimeout(() => {
                        currentQuestionIndex = (currentQuestionIndex + 1) % questions.length;
                        renderQuizQuestion();
                    }, 4000);
                };

                renderQuizQuestion();
            };
            
            const setupPracticeQuiz = () => {
                const container = document.getElementById('practice-questions-container');
                const questions = [
                    {
                        type: 'radio',
                        question: "拽专 专爪 拽 转 爪注 砖注转 砖 砖 住 砖专.   200 住 专住 驻转 爪 砖 砖 爪注 6.8 砖注转 .  **住** 拽专 ?",
                        options: [
                            "200 住 砖",
                            " 住 专住 驻转",
                            " 住 砖专",
                            "爪注 砖注转 砖 (6.8)"
                        ],
                        correct: 2,
                        explanation: "住  拽爪 转 砖拽专 专爪 住拽 注 住拽转 - 拽专 ,  住 砖专. 200 住  ."
                    },
                    {
                        type: 'radio',
                        question: "砖 砖 拽转,  **驻专专**  **住住**?",
                        options: [
                            "驻专专: 6.8 砖注转; 住住: 爪注 砖注转 砖 砖  住.",
                            "驻专专: 爪注 砖注转 砖 砖  住; 住住: 6.8 砖注转.",
                            "驻专专: 200 住; 住住:  住 砖专.",
                            " 专 注转  驻专专."
                        ],
                        correct: 1,
                        explanation: "驻专专 (`\\mu`)   砖 住 (爪注 砖注转 砖 砖 **** 住), 住住 (`\\bar{x}`)   砖  (6.8 砖注转)."
                    },
                    {
                        type: 'text',
                        question: "住 拽 转 专注 爪: 10, 8, 6, 4.  **砖转 住** (`\\sigma^2`)?",
                        correct: 5,
                        explanation: "砖 : 砖 爪注 住: `\\mu = (10+8+6+4)/4 = 7`.<br>砖 : 砖 住 专注 住转 爪注: `(10-7)^2 + (8-7)^2 + (6-7)^2 + (4-7)^2 = 9 + 1 + 1 + 9 = 20`.<br>砖 : 拽  住: `\\sigma^2 = 20 / 4 = 5`."
                    },
                    {
                        type: 'radio',
                        question: " 砖转   住 ** (Ratio)**?",
                        options: [
                            "住驻专 爪 砖 砖拽 专",
                            "爪  (0-100)",
                            "驻专专 注转 爪住",
                            "住 砖转 砖拽"
                        ],
                        correct: 3,
                        explanation: "住 砖转  住   砖  0  (驻住 住), 转 专 砖住 砖 10,000 砖拽  驻 2 住 砖 5,000."
                    },
                    {
                        type: 'radio',
                        question: "  住住转   拽专 驻砖?",
                        options: [
                            " 转爪驻转  转",
                            "转爪驻转 转转  ",
                            "转爪驻转 转 转转 砖转 转驻转 (i.i.d)",
                            "  转  -30"
                        ],
                        correct: 2,
                        explanation: "转 住  砖转爪驻转  i.i.d (Independent and Identically Distributed). 专, 专转 驻专    砖驻注 注 专转 驻专 专,  驻专 住 砖 转 转驻转."
                    },
                    {
                        type: 'radio',
                        question: "驻 SPSS,  爪 注专 `Std. Error Mean`?",
                        options: [
                            "住转 转拽 砖 住 (`\\sigma`)",
                            " 住转 转拽  (`\\hat{S}`)",
                            "砖转 砖 ",
                            "注转 转拽 砖 爪注 (`\\hat{S} / \\sqrt{n}`)"
                        ],
                        correct: 3,
                        explanation: "注转 转拽 砖 爪注   驻专 砖 转驻转  砖 爪注.  砖  住转 转拽 砖  拽 砖专砖  , 爪转 转 拽 砖 爪注   爪注 住."
                    }
                ];

                questions.forEach((q, index) => {
                    const qDiv = document.createElement('div');
                    qDiv.className = 'practice-question';
                    let optionsHtml = '';
                    if (q.type === 'radio') {
                        let radioButtonsHtml = '';
                        q.options.forEach((opt, i) => {
                            const optionId = `q${index}_opt${i}`;
                            const radioInput = `<input type="radio" id="${optionId}" name="q${index}" value="${i}">`;
                            const label = `<label for="${optionId}" class="ml-2">${opt}</label>`;
                            radioButtonsHtml += `<div>${radioInput}${label}</div>`;
                        });
                        optionsHtml = `<div class="space-y-2 mt-4">${radioButtonsHtml}</div>`;
                    } else {
                        optionsHtml = `<input type="number" id="q${index}_input" class="mt-4 w-full bg-gray-700 rounded p-2" placeholder="拽 转 转砖转 ">`;
                    }

                    qDiv.innerHTML = `
                        <p class="font-bold text-lg">砖 ${index + 1}:</p>
                        <p class="mt-2">${q.question}</p>
                        ${optionsHtml}
                        <button class="check-answer-btn mt-4 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" data-index="${index}">拽 转砖</button>
                        <div id="feedback-q${index}" class="mt-4 p-3 rounded-lg feedback"></div>
                    `;
                    container.appendChild(qDiv);
                });

                document.querySelectorAll('.check-answer-btn').forEach(btn => {
                    btn.addEventListener('click', e => {
                        const index = parseInt(e.target.dataset.index);
                        const q = questions[index];
                        let isCorrect = false;
                        if (q.type === 'radio') {
                            const selected = document.querySelector(`input[name="q${index}"]:checked`);
                            if (selected && parseInt(selected.value) === q.correct) {
                                isCorrect = true;
                            }
                        } else {
                            const input = document.getElementById(`q${index}_input`);
                            if (parseFloat(input.value) === q.correct) {
                                isCorrect = true;
                            }
                        }
                        
                        const message = isCorrect 
                            ? `<i class="fas fa-check-circle mr-2"></i><strong>!</strong><br>${q.explanation}`
                            : `<i class="fas fa-times-circle mr-2"></i><strong> 拽.</strong><br>${q.explanation}`;
                        
                        showFeedback(`feedback-q${index}`, message, isCorrect);
                    });
                });
            };
            
            // --- Call Initialization Functions ---
            setupPopulationVsSample();
            setupFlashcards();
            setupScalesQuiz();
            setupPracticeQuiz();
            renderAllMath();
        });
    </script>
</body>
</html>
